<template>
<div class="col-4 mt-4">
            <div class="card bg-light text-white" id="image-course">
               <img :src="'/course_images/' + course.image" class="card-img" alt="..." >
                <div class="card-img-overlay img__mask" style="z-index: 3;" >

                    <h5 class="card-title">{{course.title}}</h5>
                    <p class="card-text">{{course.category.title}}</p>
                    <p class="card-text mb-4">{{course.user.name}}</p>
                    <a class="btn btn-hover" :href="'/edit_course/'+ course.user.id  + '/'+ course.id" style="padding:5px; position: absolute; right:80px ; background-color: white;"><svg xmlns="http://www.w3.org/2000/svg" width="23" height="21" viewBox="0 0 23 21" fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M19 19C19.5523 19 20 19.4477 20 20C20 20.5523 19.5523 21 19 21H1C0.447715 21 0 20.5523 0 20C0 19.4477 0.447715 19 1 19H19ZM4.29289 12.2929L15.2929 1.29289C15.6534 0.932409 16.2206 0.90468 16.6129 1.2097L16.7071 1.29289L19.7071 4.29289C20.0676 4.65338 20.0953 5.22061 19.7903 5.6129L19.7071 5.70711L8.70711 16.7071C8.55083 16.8634 8.34815 16.9626 8.13144 16.9913L8 17H5C4.48716 17 4.06449 16.614 4.00673 16.1166L4 16V13C4 12.779 4.07316 12.5655 4.20608 12.392L4.29289 12.2929L15.2929 1.29289L4.29289 12.2929ZM16 3.41421L6 13.4142V15H7.58579L17.5858 5L16 3.41421Z" fill="#CFCFCF"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M22 18C22.5523 18 23 18.4477 23 19C23 19.5523 22.5523 20 22 20H4C3.44772 20 3 19.5523 3 19C3 18.4477 3.44772 18 4 18H22ZM7.29289 11.2929L18.2929 0.292893C18.6534 -0.0675907 19.2206 -0.0953203 19.6129 0.209705L19.7071 0.292893L22.7071 3.29289C23.0676 3.65338 23.0953 4.22061 22.7903 4.6129L22.7071 4.70711L11.7071 15.7071C11.5508 15.8634 11.3481 15.9626 11.1314 15.9913L11 16H8C7.48716 16 7.06449 15.614 7.00673 15.1166L7 15V12C7 11.779 7.07316 11.5655 7.20608 11.392L7.29289 11.2929L18.2929 0.292893L7.29289 11.2929ZM19 2.41421L9 12.4142V14H10.5858L20.5858 4L19 2.41421Z" fill="#D70000"/>
                        </svg></a>
                    <a class="btn btn-hover" :href="'/course/' + course.id" style="padding:5px; position: absolute; right:20px ;  background-color: white;"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="18" viewBox="0 0 21 18" fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M11.2097 2.3871L11.2929 2.29289C11.6534 1.93241 12.2206 1.90468 12.6129 2.2097L12.7071 2.29289L19.7071 9.29289L19.7485 9.33685L19.8037 9.40469L19.8753 9.51594L19.9288 9.62866L19.9642 9.73401L19.9931 9.8819L20 10L19.9972 10.0752L19.9798 10.2007L19.9503 10.3121L19.9063 10.4232L19.854 10.5207L19.7803 10.6254L19.7071 10.7071L12.7071 17.7071C12.3166 18.0976 11.6834 18.0976 11.2929 17.7071C10.9324 17.3466 10.9047 16.7794 11.2097 16.3871L11.2929 16.2929L16.584 11L1 11C0.447715 11 0 10.5523 0 10C0 9.44771 0.447715 9 1 9L16.586 9L11.2929 3.70711C10.9324 3.34662 10.9047 2.77939 11.2097 2.3871L11.2929 2.29289L11.2097 2.3871Z" fill="#CFCFCF"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M12.2097 0.3871L12.2929 0.292893C12.6534 -0.0675907 13.2206 -0.0953197 13.6129 0.209704L13.7071 0.292893L20.7071 7.29289L20.7485 7.33685L20.8037 7.40469L20.8753 7.51594L20.9288 7.62866L20.9642 7.73401L20.9931 7.8819L21 8L20.9972 8.07524L20.9798 8.20073L20.9503 8.31214L20.9063 8.42322L20.854 8.52071L20.7803 8.62545L20.7071 8.70711L13.7071 15.7071C13.3166 16.0976 12.6834 16.0976 12.2929 15.7071C11.9324 15.3466 11.9047 14.7794 12.2097 14.3871L12.2929 14.2929L17.584 9L2 9C1.44772 9 1 8.55228 1 8C1 7.44771 1.44772 7 2 7L17.586 7L12.2929 1.70711C11.9324 1.34662 11.9047 0.779391 12.2097 0.3871L12.2929 0.292893L12.2097 0.3871Z" fill="#D70000"/>
                        </svg></a>
                    <a class="btn btn-hover" @click="removeCourse(course.id)"  style="padding:5px; position: absolute; right:140px ;  background-color: white;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="21" height="22" viewBox="0 0 21 22" fill="none">
<path fill-rule="evenodd" clip-rule="evenodd" d="M13.9148 4.14981H13.6618C13.6618 2.41046 12.2703 1 10.4994 1H8.47539C6.70442 1 5.31293 2.41046 5.31293 4.14981H4.55394H4.17445V4.14981H1.13849C0.505994 4.14981 0 4.62038 0 5.19975C0 5.78037 0.505994 6.24968 1.13849 6.24968H2.15047V18.8502C2.15047 20.5895 3.54196 22 5.31293 22H13.6618C15.4328 22 16.8243 20.5895 16.8243 18.8502V6.24968H17.8363C18.4688 6.24968 18.9748 5.78037 18.9748 5.19975C18.9748 4.62038 18.4688 4.14981 17.8363 4.14981H14.8003H14.6738H13.9148ZM14.6735 6.24972H12.6495H11.6375H7.33658H6.3246H4.17412V8.34959V18.8502C4.17412 19.4296 4.68012 19.9002 5.31261 19.9002H13.6615C14.294 19.9002 14.6735 19.4296 14.6735 18.8502V8.34959V6.24972ZM7.33656 4.1498H8.47504H9.48703H10.499H11.6375C11.6375 3.57044 11.1315 3.09986 10.499 3.09986H8.47504C7.84255 3.09986 7.33656 3.57044 7.33656 4.1498ZM7.33685 8.34959C7.96934 8.34959 8.47534 8.82016 8.47534 9.39952V16.7503C8.47534 17.3297 7.96934 17.8003 7.33685 17.8003C6.83086 17.8003 6.32486 17.3297 6.32486 16.7503V9.39952C6.32486 8.82016 6.83086 8.34959 7.33685 8.34959ZM12.6495 9.39952C12.6495 8.82016 12.1435 8.34959 11.6375 8.34959C11.005 8.34959 10.499 8.82016 10.499 9.39952V16.7503C10.499 17.3297 11.005 17.8003 11.6375 17.8003C12.1435 17.8003 12.6495 17.3297 12.6495 16.7503V9.39952Z" fill="#CFCFCF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.9148 3.14981H15.6618C15.6618 1.41046 14.2703 0 12.4994 0H10.4754C8.70442 0 7.31293 1.41046 7.31293 3.14981H6.55394H6.17445V3.14981H3.13849C2.50599 3.14981 2 3.62038 2 4.19975C2 4.78037 2.50599 5.24968 3.13849 5.24968H4.15047V17.8502C4.15047 19.5895 5.54196 21 7.31293 21H15.6618C17.4328 21 18.8243 19.5895 18.8243 17.8502V5.24968H19.8363C20.4688 5.24968 20.9748 4.78037 20.9748 4.19975C20.9748 3.62038 20.4688 3.14981 19.8363 3.14981H16.8003H16.6738H15.9148ZM16.6735 5.24972H14.6495H13.6375H9.33658H8.3246H6.17412V7.34959V17.8502C6.17412 18.4296 6.68012 18.9002 7.31261 18.9002H15.6615C16.294 18.9002 16.6735 18.4296 16.6735 17.8502V7.34959V5.24972ZM9.33656 3.1498H10.475H11.487H12.499H13.6375C13.6375 2.57044 13.1315 2.09986 12.499 2.09986H10.475C9.84255 2.09986 9.33656 2.57044 9.33656 3.1498ZM9.33685 7.34959C9.96934 7.34959 10.4753 7.82016 10.4753 8.39952V15.7503C10.4753 16.3297 9.96934 16.8003 9.33685 16.8003C8.83086 16.8003 8.32486 16.3297 8.32486 15.7503V8.39952C8.32486 7.82016 8.83086 7.34959 9.33685 7.34959ZM14.6495 8.39952C14.6495 7.82016 14.1435 7.34959 13.6375 7.34959C13.005 7.34959 12.499 7.82016 12.499 8.39952V15.7503C12.499 16.3297 13.005 16.8003 13.6375 16.8003C14.1435 16.8003 14.6495 16.3297 14.6495 15.7503V8.39952Z" fill="#D70000"/>
</svg>
                    </a>
                </div>
            </div>
        </div>
</template>

<script>
import axios from 'axios'
export default {
    props:{
        course: Object
    },
    methods:{
        removeCourse(id){
            axios({
    method:'delete',
    url:`api/course_delete/`+ `${id}`,
    baseURL: 'http://127.0.0.1:8000/',
    headers: {
         'Content-Type': 'multipart/form-data',
          Authorization: `Bearer ${this.course.user.api_token}`
    }
    },
    )
        .then((response) => {
                    window.location.href = '/home/';
                    console.log(response);
                })
                .catch((error) => {
                    console.error(error.response);

                });
            }
    }

}
</script>

<style>

</style>
